# ๐ง ุฏููู ุฅุนุฏุงุฏ PayPal
# PayPal Setup Guide

ุฏููู ุดุงูู ูุฅุนุฏุงุฏ ูุธุงู ุงูุฏูุน ุนุจุฑ PayPal.

---

## ๐ ุงููุชุทูุจุงุช

### 1. ุญุณุงุจ PayPal Business

**ุงูุฎุทูุงุช:**
1. ุงุฐูุจ ุฅูู [paypal.com](https://www.paypal.com)
2. ุงููุฑ ุนูู "ุชุณุฌูู" ุฃู "Sign Up"
3. ุงุฎุชุฑ "ุญุณุงุจ ุชุฌุงุฑู" (Business Account)
4. ุฃููู ุนูููุฉ ุงูุชุณุฌูู
5. ุชุญูู ูู ุจุฑูุฏู ุงูุฅููุชุฑููู

---

## ๐ ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### ุงูุฎุทูุฉ 1: ุงูุญุตูู ุนูู API Keys

#### 1.1 ุงุฐูุจ ุฅูู PayPal Developer
```
1. ุงุฐูุจ ุฅูู https://developer.paypal.com
2. ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจู
3. ุงุฐูุจ ุฅูู Dashboard
```

#### 1.2 ุฅูุดุงุก ุชุทุจูู
```
1. ุงุฐูุจ ุฅูู "Apps & Credentials"
2. ุชุฃูุฏ ุฃูู ูู ูุถุน "Sandbox" (ููุงุฎุชุจุงุฑ)
3. ุงููุฑ ุนูู "Create App"
4. ุฃุฏุฎู ุงุณู ุงูุชุทุจูู
5. ุงููุฑ ุนูู "Create"
```

#### 1.3 ุงูุญุตูู ุนูู ุงูููุงุชูุญ
```
1. ูู ูุณู "Sandbox"ุ ุงููุฑ ุนูู ุชุทุจููู
2. ุณุชุฌุฏ:
   - Client ID
   - Secret
3. ุงูุณุฎููุง
```

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ุฃูุดุฆ ุฃู ุนุฏูู ููู `.env` ูุฃุถู:

```env
# Telegram
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN_HERE

# PayPal
PAYPAL_CLIENT_ID=YOUR_CLIENT_ID_HERE
PAYPAL_CLIENT_SECRET=YOUR_CLIENT_SECRET_HERE
PAYPAL_MODE=sandbox  # ุงุณุชุฎุฏู 'sandbox' ููุงุฎุชุจุงุฑ ู 'live' ููุฅูุชุงุฌ

# Database
DATABASE_PATH=subscriptions.db
```

### ุงูุฎุทูุฉ 3: ุชุซุจูุช ุงูููุชุจุงุช

```bash
pip install requests
pip install python-telegram-bot
pip install python-dotenv
```

ุฃู:
```bash
pip install -r requirements.txt
```

### ุงูุฎุทูุฉ 4: ุชุดุบูู ุงูุจูุช

```bash
python3 bot_with_paypal.py
```

---

## ๐ณ ุฃููุงุน ุงููุนุงููุงุช

### 1. ุงูุฏูุน ููุฑุฉ ูุงุญุฏุฉ (One-Time Payment)

```python
from paypal_payment_system import PayPalPaymentProcessor

# ุฅูุดุงุก ุทูุจ ุฏูุน
checkout_url = PayPalPaymentProcessor.create_order(
    plan="basic",
    return_url="https://example.com/success",
    cancel_url="https://example.com/cancel",
    telegram_id=123456789
)

# ุงููุณุชุฎุฏู ูููุฑ ุนูู ุงูุฑุงุจุท
# ูุฏูุน
# ูุนูุฏ ุฅูู ุงููููุน
```

### 2. ุงูุงุดุชุฑุงู ุงููุชูุฑุฑ (Recurring Subscription)

```python
# ุฅูุดุงุก ุงุดุชุฑุงู ุดูุฑู
subscription_url = PayPalPaymentProcessor.create_subscription(
    plan="basic",
    telegram_id=123456789,
    return_url="https://example.com/success"
)

# ุงููุณุชุฎุฏู ูููุฑ ุนูู ุงูุฑุงุจุท
# ููุงูู ุนูู ุงูุงุดุชุฑุงู
# ูุชู ุงูุฎุตู ุชููุงุฆูุงู ูู ุดูุฑ
```

---

## ๐ ุฏูุฑุฉ ุญูุงุฉ ุงูุฏูุน

### ุงูุฏูุน ููุฑุฉ ูุงุญุฏุฉ

```
1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุฎุทุฉ
        โ
2. ุงูุจูุช ููุดุฆ ุทูุจ ุฏูุน
        โ
3. PayPal ูุนุทู ุฑุงุจุท ุฏูุน
        โ
4. ุงููุณุชุฎุฏู ูููุฑ ุนูู ุงูุฑุงุจุท
        โ
5. ุตูุญุฉ PayPal ููุฏูุน
        โ
6. ุงููุณุชุฎุฏู ูุฏุฎู ุจูุงูุงุช ุงูุญุณุงุจ
        โ
7. PayPal ูุนุงูุฌ ุงูุฏูุน
        โ
8. ุงููุณุชุฎุฏู ูุนูุฏ ุฅูู ุงูุจูุช
        โ
9. ุงูุจูุช ูุชุญูู ูู ุงูุฏูุน
        โ
10. ุงูุงุดุชุฑุงู ููุดุท
```

### ุงูุงุดุชุฑุงู ุงููุชูุฑุฑ

```
1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุฎุทุฉ
        โ
2. ุงูุจูุช ููุดุฆ ุงุดุชุฑุงู
        โ
3. PayPal ูุนุทู ุฑุงุจุท ููุงููุฉ
        โ
4. ุงููุณุชุฎุฏู ูููุฑ ุนูู ุงูุฑุงุจุท
        โ
5. ุตูุญุฉ PayPal ููููุงููุฉ
        โ
6. ุงููุณุชุฎุฏู ููุงูู
        โ
7. PayPal ููุดุฆ ุงูุงุดุชุฑุงู
        โ
8. ุงููุณุชุฎุฏู ูุนูุฏ ุฅูู ุงูุจูุช
        โ
9. ุงูุงุดุชุฑุงู ููุดุท
        โ
10. ูู ุดูุฑ: PayPal ูุฎุตู ุงููุจูุบ ุชููุงุฆูุงู
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุจูุงูุงุช ุงุฎุชุจุงุฑ PayPal

#### ุญุณุงุจุงุช ุงูุงุฎุชุจุงุฑ

**ุญุณุงุจ ุงููุดุชุฑู:**
```
ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: sb-buyer@example.com
ูููุฉ ุงููุฑูุฑ: 123456
```

**ุญุณุงุจ ุงูุจุงุฆุน:**
```
ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: sb-seller@example.com
ูููุฉ ุงููุฑูุฑ: 123456
```

#### ุจุทุงูุงุช ุงูุงุฎุชุจุงุฑ

| ุงูููุน | ุงูุฑูู | ุงูุญุงูุฉ |
|------|------|--------|
| Visa | 4111 1111 1111 1111 | โ ูุงุฌุญ |
| Visa | 5105 1051 0510 5100 | โ ูุงุฌุญ |
| Amex | 378282246310005 | โ ูุงุฌุญ |

**ุชุงุฑูุฎ ุงูุงูุชูุงุก:** ุฃู ุชุงุฑูุฎ ูุณุชูุจูู
**CVV:** ุฃู 3 ุฃุฑูุงู

### ุงุฎุชุจุงุฑ ุงูุฏูุน

```python
from paypal_payment_system import PayPalPaymentProcessor

# ุงุฎุชุจุงุฑ ุงูุญุตูู ุนูู ุฑูุฒ ุงููุตูู
token = PayPalPaymentProcessor.get_access_token()
print(f"Token: {token}")

# ุงุฎุชุจุงุฑ ุฅูุดุงุก ุทูุจ
order_url = PayPalPaymentProcessor.create_order(
    plan="basic",
    return_url="https://example.com/success",
    cancel_url="https://example.com/cancel",
    telegram_id=123456789
)
print(f"Order URL: {order_url}")

# ุงุฎุชุจุงุฑ ุฅูุดุงุก ุงุดุชุฑุงู
subscription_url = PayPalPaymentProcessor.create_subscription(
    plan="basic",
    telegram_id=123456789,
    return_url="https://example.com/success"
)
print(f"Subscription URL: {subscription_url}")
```

---

## ๐ ุงูุฎุทุท ูุงูุฃุณุนุงุฑ

### ุงูุฎุทุท ุงููุชุงุญุฉ

| ุงูุฎุทุฉ | ุงูุณุนุฑ | ุงููุฏุฉ | ุงูููุฒุงุช |
|------|------|------|--------|
| **ุฃุณุงุณู** | $2.99 | ุดูุฑู | ุชูุฒูู ุบูุฑ ูุญุฏูุฏ |
| **ุงุญุชุฑุงูู** | $4.99 | ุดูุฑู | ุชูุฒูู ุณุฑูุน + ุฏุนู |
| **ูุชูุฏู** | $9.99 | ุดูุฑู | ุฌููุน ุงูููุฒุงุช |

### ุฅุถุงูุฉ ุฎุทุฉ ุฌุฏูุฏุฉ

```python
# ูู paypal_payment_system.py
PRICES = {
    "basic": {...},
    "pro": {...},
    "premium": {...},
    "enterprise": {  # ุฎุทุฉ ุฌุฏูุฏุฉ
        "name": "ูุคุณุณู",
        "amount": "19.99",
        "currency": "USD",
        "interval": "MONTH",
        "interval_count": 1,
    }
}
```

---

## ๐ ุงูุฃูุงู

### ูุตุงุฆุญ ุฃูุงู ูููุฉ

1. **ุญูุงูุฉ ุงูููุงุชูุญ**
   - ูุง ุชุดุงุฑู `PAYPAL_CLIENT_SECRET`
   - ูุง ุชุถุนู ูู GitHub
   - ุงุณุชุฎุฏู `.env` ู `.gitignore`

2. **ุงุณุชุฎุฏุงู Sandbox ุฃููุงู**
   - ุงุฎุชุจุฑ ูู ุดูุก ูู Sandbox
   - ุชุฃูุฏ ูู ุฃู ูู ุดูุก ูุนูู
   - ุงูุชูู ุฅูู Live ููุท ุนูุฏูุง ุชููู ุฌุงูุฒุงู

3. **ุงูุชุญูู ูู ุงูุฏูุน**
   - ุชุญูู ูู ุญุงูุฉ ุงูุทูุจ
   - ุชุฃูุฏ ูู ุฃู ุงููุจูุบ ุตุญูุญ
   - ุณุฌู ูู ุงููุนุงููุงุช

4. **ุญูุงูุฉ ุงูุจูุงูุงุช**
   - ูุง ุชุฎุฒู ุจูุงูุงุช ุงูุจุทุงูุฉ
   - ุงุณุชุฎุฏู PayPal ููุฏูุน ููุท
   - ุดููุฑ ูููุงุช ุงููุฑูุฑ

---

## ๐ ุงูุชุญููู ูู Sandbox ุฅูู Live

### ุงูุฎุทูุงุช

1. **ุงูุชูู ุฅูู ุงูุฅูุชุงุฌ**
   ```
   ูู PayPal Developer:
   1. ุงุฐูุจ ุฅูู "Apps & Credentials"
   2. ุงููุฑ ุนูู "Live"
   3. ุงูุณุฎ Client ID ู Secret
   ```

2. **ุญุฏูุซ ูุชุบูุฑุงุช ุงูุจูุฆุฉ**
   ```env
   PAYPAL_CLIENT_ID=YOUR_LIVE_CLIENT_ID
   PAYPAL_CLIENT_SECRET=YOUR_LIVE_CLIENT_SECRET
   PAYPAL_MODE=live
   ```

3. **ุงุฎุชุจุฑ ุจูุจูุบ ุตุบูุฑ**
   - ูู ุจุฏูุนุฉ ุงุฎุชุจุงุฑ ุจู $0.01
   - ุชุฃูุฏ ูู ุฃู ูู ุดูุก ูุนูู

4. **ุฑุงูุจ ุงููุนุงููุงุช**
   - ุชุญูู ูู PayPal Dashboard
   - ุชุฃูุฏ ูู ุฃู ุงูุฃููุงู ุชุตู

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "Invalid Client ID"

**ุงูุญู:**
1. ุชุญูู ูู `PAYPAL_CLIENT_ID` ูู `.env`
2. ุชุฃูุฏ ูู ุฃูู ูุณุฎุช ุงูุฑูู ูุงููุงู
3. ุชุฃูุฏ ูู ุฃูู ูู ุงููุถุน ุงูุตุญูุญ (Sandbox ุฃู Live)

### ุงููุดููุฉ: "Access Token Error"

**ุงูุญู:**
1. ุชุญูู ูู `PAYPAL_CLIENT_SECRET`
2. ุชุฃูุฏ ูู ุฃู ุงูุจูุงูุงุช ุตุญูุญุฉ
3. ุฌุฑุจ ุฅูุดุงุก ุชุทุจูู ุฌุฏูุฏ

### ุงููุดููุฉ: "Order Creation Failed"

**ุงูุญู:**
1. ุชุญูู ูู ุฃู ุงูุฎุทุฉ ููุฌูุฏุฉ
2. ุชุฃูุฏ ูู ุฃู ุงููุจูุบ ุตุญูุญ
3. ุชุญูู ูู ุงุชุตุงูู ุจุงูุฅูุชุฑูุช

### ุงููุดููุฉ: "Webhook Not Received"

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฃู URL ุตุญูุญ
2. ุชุฃูุฏ ูู ุฃู ุงูุฎุงุฏู ูุนูู
3. ุชุญูู ูู ุณุฌูุงุช PayPal

---

## ๐ ุงููุฑุงูุจุฉ ูุงูุฅุญุตุงุฆูุงุช

### ุงูุญุตูู ุนูู ุงูุฅุญุตุงุฆูุงุช

```python
from database_models import Database

db = Database()

# ุฅุญุตุงุฆูุงุช ุงูุฏูุน
stats = db.get_statistics()
print(f"ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช: ${stats['total_revenue']}")

# ุฏูุนุงุช ุงููุณุชุฎุฏู
payments = db.get_user_payments(telegram_id)
for payment in payments:
    print(f"${payment['amount']} - {payment['status']}")
```

### ุชูุงุฑูุฑ PayPal

```
1. ุงุฐูุจ ุฅูู PayPal Dashboard
2. ุงุฐูุจ ุฅูู "Reports"
3. ุงุฎุชุฑ ููุน ุงูุชูุฑูุฑ:
   - Transaction History
   - Sales
   - Subscriptions
4. ุญููู ุงูุชูุฑูุฑ
```

---

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ููุฒุงุช ูุฎุทุท ุฅุถุงูุชูุง

- [ ] ุฏุนู ุนููุงุช ุฃุฎุฑู
- [ ] ุฏุนู Stripe ุฃูุถุงู
- [ ] ูุงุชูุฑุงุช ุฑูููุฉ
- [ ] ุฅุดุนุงุฑุงุช ุจุฑูุฏ ุฅููุชุฑููู
- [ ] ููุญุฉ ุชุญูู ููุนููุงุก
- [ ] ุชูุงุฑูุฑ ูุชูุฏูุฉ
- [ ] ุจุฑูุงูุฌ ุงูุฅุญุงูุฉ

---

## ๐ ุงูููุงุฑุฏ ุงููููุฏุฉ

- [PayPal Developer Documentation](https://developer.paypal.com/docs/)
- [PayPal API Reference](https://developer.paypal.com/api/rest/)
- [PayPal Sandbox Testing](https://developer.paypal.com/docs/platforms/sandboxes/)
- [Python Requests Library](https://requests.readthedocs.io/)

---

## ๐ ุงูุฏุนู

### ุงูุงุชุตุงู ุจู PayPal

- **ุงููููุน:** https://www.paypal.com/support
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:** support@paypal.com
- **ุงููุงุชู:** ุงุชุตู ุจู PayPal ูู ุฏููุชู

### ุงูุงุชุตุงู ุจูุง

- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:** support@example.com
- **ุชูู ุชูู:** @support_account
- **ุชููุชุฑ:** @support_account

---

**ุขุฎุฑ ุชุญุฏูุซ:** ููููุจุฑ 2024
**ุงููุคูู:** Manus AI
