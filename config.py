#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
ููู ุงูุฅุนุฏุงุฏุงุช ุงููุฑูุฒู ููุจูุช
Configuration file for the bot
"""

import os
from pathlib import Path
from dotenv import load_dotenv

# ุชุญููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
load_dotenv()

# ==================== ุฅุนุฏุงุฏุงุช ุงูุจูุช ====================
BOT_TOKEN = os.getenv('TELEGRAM_BOT_TOKEN', '')
DOWNLOAD_FOLDER = os.getenv('DOWNLOAD_FOLDER', 'downloads')

# ==================== ุญุฏูุฏ ุงููููุงุช ====================
MAX_FILE_SIZE = 50 * 1024 * 1024  # 50 MB
MIN_FILE_SIZE = 100 * 1024         # 100 KB

# ==================== ุฅุนุฏุงุฏุงุช ุงูุชูุฒูู ====================
DOWNLOAD_TIMEOUT = 300  # 5 ุฏูุงุฆู
SOCKET_TIMEOUT = 30     # 30 ุซุงููุฉ

# ==================== ุฅุนุฏุงุฏุงุช ุงูุณุฌูุงุช ====================
LOG_LEVEL = os.getenv('LOG_LEVEL', 'INFO')
LOG_FORMAT = '%(asctime)s - %(name)s - %(levelname)s - %(message)s'

# ==================== ุฅุนุฏุงุฏุงุช ุงูููุตุงุช ====================
SUPPORTED_PLATFORMS = {
    'youtube': {
        'name': 'ููุชููุจ',
        'emoji': '๐ต',
        'domains': ['youtube.com', 'youtu.be'],
    },
    'tiktok': {
        'name': 'ุชูู ุชูู',
        'emoji': '๐ญ',
        'domains': ['tiktok.com', 'vm.tiktok.com', 'vt.tiktok.com'],
    },
    'instagram': {
        'name': 'ุงูุณุชูุฑุงู',
        'emoji': '๐ธ',
        'domains': ['instagram.com', 'ig.me'],
    },
}

# ==================== ุฅุนุฏุงุฏุงุช ุงูุฑุณุงุฆู ====================
MESSAGES = {
    'start': (
        "๐ ูุฑุญุจุงู ุจู ูู ุจูุช ุชูุฒูู ุงูููุฏูููุงุช!\n\n"
        "๐ฌ ููููู ุชูุฒูู ุงูููุฏูููุงุช ูู:\n"
        "โข ๐ต ููุชููุจ (YouTube)\n"
        "โข ๐ญ ุชูู ุชูู (TikTok)\n"
        "โข ๐ธ ุงูุณุชูุฑุงู (Instagram)\n\n"
        "ุงุฎุชุฑ ุฃุญุฏ ุงูุฎูุงุฑุงุช ุฃุฏูุงู:"
    ),
    'help': (
        "๐ **ุฏููู ุงูุงุณุชุฎุฏุงู:**\n\n"
        "1๏ธโฃ ุฃุฑุณู ุฑุงุจุท ุงูููุฏูู ูู ุฃู ูู ุงูููุตุงุช ุงููุฏุนููุฉ\n"
        "2๏ธโฃ ุณูููู ุงูุจูุช ุจุชูุฒูู ุงูููุฏูู\n"
        "3๏ธโฃ ุณูุชู ุฅุฑุณุงู ุงูููุฏูู ุฅููู ูุจุงุดุฑุฉ\n\n"
        "**ุงูููุตุงุช ุงููุฏุนููุฉ:**\n"
        "โข YouTube - ุฌููุน ุงูุฌูุฏุงุช\n"
        "โข TikTok - ุฌููุน ุงูููุฏูููุงุช\n"
        "โข Instagram - ุงูููุฏูููุงุช ูุงูุฑููุฒ\n\n"
        "**ุงูุฃูุงูุฑ:**\n"
        "/start - ุงูุจุฏุก\n"
        "/help - ุงููุณุงุนุฏุฉ\n"
        "/stats - ุงูุฅุญุตุงุฆูุงุช\n\n"
        "โ๏ธ **ููุงุญุธุงุช:**\n"
        "โข ุญุฏ ุฃูุตู ููููู: 50 MB\n"
        "โข ูุฏ ูุณุชุบุฑู ุงูุชูุฒูู ุจุนุถ ุงูููุช\n"
        "โข ุชุฃูุฏ ูู ุฃู ุงูุฑุงุจุท ุตุญูุญ"
    ),
    'invalid_url': "โ ูุฑุฌู ุฅุฑุณุงู ุฑุงุจุท ุตุญูุญ ูุจุฏุฃ ุจู http:// ุฃู https://",
    'downloading': "โณ ุฌุงุฑู ุชูุฒูู ุงูููุฏูู... ูุฑุฌู ุงูุงูุชุธุงุฑ",
    'file_too_large': "โ ุญุฌู ุงูููู ({size:.2f} MB) ุฃูุจุฑ ูู ุงูุญุฏ ุงููุณููุญ (50 MB)",
    'success': "โ ุชู ุฅุฑุณุงู ุงูููุฏูู ุจูุฌุงุญ!\nุดูุฑุงู ูุงุณุชุฎุฏุงูู ุงูุจูุช ๐",
    'error': "โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุชูุฒูู:\n{error}\n\nูุฑุฌู ุงูุชุฃูุฏ ูู:\nโข ุตุญุฉ ุงูุฑุงุจุท\nโข ุฃู ุงูููุฏูู ูุชุงุญ ููุชูุฒูู\nโข ุฃู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช ูุณุชูุฑ",
    'unsupported_url': "โ ุฑุงุจุท ุบูุฑ ูุฏุนูู. ูุฑุฌู ุงุณุชุฎุฏุงู ุฑุงุจุท ูู ููุชููุจ ุฃู ุชูู ุชูู ุฃู ุงูุณุชูุฑุงู",
}

# ==================== ุฅูุดุงุก ุงููุฌูุฏุงุช ====================
Path(DOWNLOAD_FOLDER).mkdir(exist_ok=True)

# ==================== ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช ====================
def validate_config():
    """ุงูุชุญูู ูู ุตุญุฉ ุงูุฅุนุฏุงุฏุงุช"""
    if not BOT_TOKEN:
        raise ValueError("โ ูู ูุชู ุงูุนุซูุฑ ุนูู TELEGRAM_BOT_TOKEN ูู ููู .env")
    
    if not Path(DOWNLOAD_FOLDER).exists():
        Path(DOWNLOAD_FOLDER).mkdir(parents=True, exist_ok=True)
    
    return True
